<!doctype html>
<html>
    <head>
        <title>Test</title>
        <script type="text/javascript">

            /* Valor mihnimo: 00:00:00
             * Valor mahximo: 23:59:59
             */
            function maskHourMinSec(inputToFormat){
                
                var fullTime = inputToFormat.value;

                fullTime = fullTime.replace(/\D/g, "");
                fullTime = fullTime.replace(/(\d{2})(\d)/, "$1:$2");
                fullTime = fullTime.replace(/(\d{2})(\d)/, "$1:$2");

                //valida o primeiro dihgito da hora
                if(fullTime.charAt(0) > 2){
                    fullTime = "";
                }
                //valida a hora
                if(fullTime.substring(0, 2) > 23){
                    fullTime = "";
                }
                //valida o primeiro digito dos minutos
                if(fullTime.substring(3, 4) > 5){
                    fullTime = "";
                }
                //valida os minutos
                if(fullTime.substring(3, 5) > 59){
                    fullTime = "";
                }
                //valida o primeiro digito dos segundos
                if(fullTime.substring(6, 7) > 5){
                    fullTime = "";
                }
                //valida os segundos
                if(fullTime.substring(6, 8) > 59){
                    fullTime = "";
                }
                //se o valor digitado passar de 8 dihgitos diminui para 8
                if(fullTime.length > 8){
                    fullTime = fullTime.substring(0, 8);
                }
                //seta o valor do input com a hora formatada e validada.
                inputToFormat.value = fullTime;
            }

            /* Valor mihnimo: 00:00
             * Valor mahximo: 23:59
             */
            function maskHourMin(inputToFormat){

                var fullTime = inputToFormat.value;

                fullTime = fullTime.replace(/\D/g, "");
                fullTime = fullTime.replace(/(\d{2})(\d)/, "$1:$2");

                //valida o primeiro dihgito da hora
                if(fullTime.charAt(0) > 2){
                    fullTime = "";
                }
                //valida a hora
                if(fullTime.substring(0, 2) > 23){
                    fullTime = "";
                }
                //valida o primeiro digito dos minutos
                if(fullTime.substring(3, 4) > 5){
                    fullTime = "";
                }
                //valida os minutos
                if(fullTime.substring(3, 5) > 59){
                    fullTime = "";
                }
                //se o valor digitado passar de 5 dihgitos diminui para 8
                if(fullTime.length > 5){
                    fullTime = fullTime.substring(0, 5);
                }
                //seta o valor do input com a hora formatada e validada.
                inputToFormat.value = fullTime;
            }
            
            function validaHora(valueToValidate){
                console.log("chegou");
//                var fullTime = valueToValidate.value;
//                if(fullTime.length < 8){
//                    fullTime.value = fullTime + "0000000000";
//                }
            }
        </script>
    </head>
    <body>
        <table>
            <tr>
                <td><label>Horas, minutos e segundos</label></td>
                <td><input type="text" onkeyup="maskHourMinSec(this);" onfocus="validaHora(this);"/></td>
            </tr>
            <tr>
                <td><label>Horas e minutos</label></td>
                <td><input type="text" onkeyup="maskHourMin(this);" /></td>
            </tr>
        </table>
    </body>
</html>